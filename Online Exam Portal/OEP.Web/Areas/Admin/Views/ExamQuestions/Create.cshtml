@model OEP.Resources.Admin.ExamQuestionResource
    @using  System.Web.Optimization
@{
    ViewBag.Title = "Create";
    Layout = "~/Areas/Admin/Views/Shared/AdminLayout.cshtml";
}

<h2>Create</h2>

<div class="form-group">
    @Html.LabelFor(model => model.SelectListItemExamType, "Exam Type", htmlAttributes: new {@class = "control-label col-md-2"})
    <div class="col-md-10">
        @Html.DropDownListFor(x => x.ExamTypeId, Model.SelectListItemExamType, "-Select-", htmlAttributes: new {@class = "form-control",@id = "ddlExamType" })
    </div>
</div>

<div class="form-group">
    @Html.LabelFor(model => model.SelectListItemExam, "Exam", htmlAttributes: new {@class = "control-label col-md-2"})
    <div class="col-md-10" id="examContainer">
        @Html.DropDownListFor(x => x.SelectListItemExam, new List<SelectListItem>(), "-Select-", htmlAttributes: new {@class = "form-control", @id = "ddlExam"})
    </div>
</div>

<input id="basics" />


@section Scripts {
    <link href="~/Areas/Admin/Assets/plugins/easy-autocomplete/easy-autocomplete.css" rel="stylesheet" />
    <script src="~/Areas/Admin/Assets/plugins/easy-autocomplete/jquery.easy-autocomplete.js"></script>
    <script src="~/Areas/Admin/Assets/plugins/easy-autocomplete/jquery.easy-autocomplete.min.js"></script>
<script type="text/javascript">

    $(document).ready(function () {
        $('#ddlExamType').change(function () {
            $.ajax({
                type: "post",
                url: "/Admin/ExamQuestions/GetExam",
                data: { examTypeId: $('#ddlExamType').val() },
                datatype: "json",
                traditional: true,
                success: function (data) {
                    var examList = "<select id='ddlExam' class = 'form-control'>";
                    examList = examList + '<option value="">--Select--</option>';
                    for (var i = 0; i < data.length; i++)
                    {
                        examList = examList + '<option value=' + data[i].Value + '>' + data[i].Text + '</option>';
                    }
                    examList = examList + '</select>';
                    $('#examContainer').html(examList);
                }
            });
        });


        /**/
        var options = {
            data: ["blue", "green", "pink", "red", "yellow"]
        };

        $("#basics").easyAutocomplete(options);
    });
</script>  
}

